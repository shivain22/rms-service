# ===================================================================
# RMS Service Environment Variables
# ===================================================================
# This file contains all environment variables required to run the RMS Service
# Gateway is running at http://localhost:8082
# ===================================================================

# Spring Profiles
SPRING_PROFILES_ACTIVE=dev,api-docs

# Server Configuration
SERVER_PORT=8083

# Keycloak OAuth2 Configuration
# Base URL for Keycloak (used to construct issuer URI)
KEYCLOAK_BASE_URL=https://rmsauth.atparui.com

# OAuth2 Client Registration (fallback/default client)
# These are used as defaults when tenant-specific clients are not available
SPRING_SECURITY_OAUTH2_CLIENT_PROVIDER_OIDC_ISSUER_URI=https://rmsauth.atparui.com/realms/rms-service
SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_OIDC_CLIENT_ID=rms-service-web
SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_OIDC_CLIENT_SECRET=B1cD3eF5gH7iJ9kL1mN3oP5qR7sT9uV

# Multi-tenant Gateway Configuration
# Gateway base URL - override the default in application.yml
MULTI_TENANT_GATEWAY_BASE_URL=http://localhost:8082

# Consul Service Discovery Configuration
SPRING_CLOUD_CONSUL_HOST=localhost
SPRING_CLOUD_CONSUL_PORT=8500

# Database Configuration (R2DBC - Reactive)
SPRING_R2DBC_URL=r2dbc:postgresql://localhost:5432/rms-service
SPRING_R2DBC_USERNAME=rms-service
SPRING_R2DBC_PASSWORD=rms-service

# Database Configuration (Liquibase - JDBC)
SPRING_LIQUIBASE_URL=jdbc:postgresql://localhost:5432/rms-service
SPRING_LIQUIBASE_USER=rms-service
SPRING_LIQUIBASE_PASSWORD=rms-service

DB_PASSWORD=rms-service

# Elasticsearch Configuration (if needed)
SPRING_ELASTICSEARCH_URIS=http://localhost:9200

# Kafka Configuration (if needed)
SPRING_CLOUD_STREAM_KAFKA_BINDER_BROKERS=localhost:9092

# ===================================================================
# Notes:
# ===================================================================
# 1. Replace SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_OIDC_CLIENT_SECRET
#    with your actual client secret from Keycloak
#
# 2. Update database credentials (SPRING_R2DBC_PASSWORD, SPRING_LIQUIBASE_PASSWORD)
#    if your local PostgreSQL has a password
#
# 3. Gateway is configured to run at http://localhost:8082
#
# 4. The service will run on port 8083
#
# 5. Consul, Elasticsearch, and Kafka are optional - comment out if not using
# ===================================================================
